# AtomicWatcherAquarium (AWA) Configuration Example
#
# Copy this file to config.yaml and customize it for your setup:
#   cp config.example.yaml config.yaml
#
# Environment Variables Support:
#   - AWA automatically loads .env file from the project root
#   - Use ${VAR_NAME} syntax to reference environment variables
#   - Use ${VAR_NAME:-default_value} to provide default values
#   - Example: password: "${EMAIL_PASSWORD}" or password: "${EMAIL_PASSWORD:-fallback}"
#
# Security Best Practice:
#   Store sensitive information (passwords, API keys, tokens) in .env file
#   instead of committing them in config.yaml

# Notification providers configuration
notifier:
  # Console notifier - displays notifications in terminal with rich markdown formatting
  console:
    enabled: true
    enable_rich_markdown_formatting: true

  # Ntfy notifier - sends push notifications to ntfy.sh server
  ntfy:
    enabled: false # Set to true to enable ntfy notifications
    url: "http://127.0.0.1:20403" # Your ntfy server URL (or use https://ntfy.sh)
    topic: "awa" # Topic name for notifications

  # Lark (Feishu) notifier - sends messages to Lark via webhook
  lark:
    enabled: false # Set to true to enable Lark notifications
    webhook_url: "${LARK_WEBHOOK_URL}" # Your Lark webhook URL (recommended: store in .env)

# Watchers configuration
watchers:
  # IMAP Email Watcher
  # Monitors email accounts for new messages with optional LLM-powered summarization
  imap_watcher:
    enabled: false # Set to true to enable this watcher
    interval_seconds: 60 # Check for new emails every 60 seconds
    watching:
      # First email account example
      - server: "mail.example.com" # IMAP server address
        enabled: false # Set to true to enable this account
        username: "your-email@example.com" # Your email address
        password: "${EMAIL_PASSWORD}" # Your email password (recommended: store in .env)
        enable_summary: false # Enable LLM summarization of email content. If
        summary:
          model_name: "gpt-4o-mini" # LLM model to use, requires plugins/configs/llm.json setup
          prompt: "Please summarize this email in 1-2 sentences. Keep it concise and capture the main idea."
        # Optional: Configure email body length limits (defaults shown below)
        llm_body_limit: 10000 # Max characters sent to LLM for summarization (default: 10000)
        display_body_limit: 2500 # Max characters displayed in notifications (default: 2500)

  # System Resource Watcher
  # Monitors CPU and RAM usage, sends alerts when thresholds are exceeded
  system_watcher:
    enabled: false # Set to true to enable this watcher
    interval_seconds: 2 # Check system resources every 2 seconds
    cpu_threshold: 95 # Alert when CPU usage exceeds 95%
    ram_threshold: 95 # Alert when RAM usage exceeds 95%
    cooldown_seconds: 60 # Wait 60 seconds between alerts to prevent spam

  # RSS Feed Watcher
  # Monitors RSS/Atom feeds with optional AI-powered content filtering
  rss_watcher:
    enabled: false # Set to true to enable this watcher
    interval_seconds: 3600 # Check feeds every hour (3600 seconds)
    watching:
      # First RSS feed example
      - url: "https://example.com/feed.xml" # RSS/Atom feed URL
        name: "Example Blog" # Display name for this feed
        enabled: false # Set to true to enable this feed
        enable_digest: false # Use LLM to create a digest of relevant entries. If false, all new entries are notified.
        digest:
          model_name: "gpt-4" # LLM model to use
          prompt: |
            Review the following RSS feed entries and select only the most relevant and interesting ones.
            Provide a concise digest with titles and links.
            If no entries are relevant, respond with: "No relevant entries found."

# Plugins manage their own configuration files.
# For LLM features (email summaries, RSS digests), edit ./plugins/configs/llm.json.
